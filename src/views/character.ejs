<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/characters.css">
    <title>Characters | Lord of the Rings</title>
</head>
<body>
    <%- include('partials/header.ejs') %>
    <main>
        <div class="emptyspan02">

        </div>
        <div class="hero">

                <div class="linearmain">
                    <div class="linear"></div>
                        <h2 class="lineartitle">Characters</h2>
                    <div class="linear"></div>
                </div>

                <div id="character-list" class="characters"></div>

        </div>
    
        <script>
            const bearerToken = 'OeUeZhk8zm3i_1f4FjF9'; 

            fetch('https://the-one-api.dev/v2/character', {
              headers: {
                Authorization: `Bearer ${bearerToken}`
              }
            })
            .then(response => response.json())
            .then(data => {
                const characterList = document.getElementById('character-list');
                data.docs.forEach(character => {
                    const div = document.createElement('div');
                    const name = document.createElement('h1');
                    const race = document.createElement('h3');
                    const gender = document.createElement('h3');
                    name.textContent = `${character.name}`;
                    race.textContent = `Race: ${character.race}`;
                    gender.textContent = `Gender: ${character.gender}`;
                    div.appendChild(name);
                    div.appendChild(race);
                    div.appendChild(gender);
                    characterList.appendChild(div);
                });
            })
            .catch(error => console.error(error));

        </script>

    </main>
    <%- include('partials/footer.ejs') %>
</body>
</html>